"use strict";(globalThis.webpackChunkweb=globalThis.webpackChunkweb||[]).push([[1235],{351:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"ros2/architecture","title":"01. ROS 2 System Architecture","description":"Pub/Sub, Services, Actions, Parameters, Nodes, Topics","source":"@site/docs/ros2/architecture.md","sourceDirName":"ros2","slug":"/ros2/architecture","permalink":"/physical-ai-book/docs/ros2/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/AnasMehmood0/physical-ai-book/tree/main/web/docs/ros2/architecture.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"01. Architecture"},"sidebar":"tutorialSidebar","previous":{"title":"02. Hardware Lab","permalink":"/physical-ai-book/docs/foundations/hardware-lab"},"next":{"title":"02. Python Code","permalink":"/physical-ai-book/docs/ros2/python-code"}}');var r=s(4848),l=s(8453);const t={sidebar_position:1,sidebar_label:"01. Architecture"},c="01. ROS 2 System Architecture",o={},d=[{value:"Pub/Sub, Services, Actions, Parameters, Nodes, Topics",id:"pubsub-services-actions-parameters-nodes-topics",level:2},{value:"Introduction to ROS 2",id:"introduction-to-ros-2",level:2},{value:"Why ROS 2?",id:"why-ros-2",level:3},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics (Publish-Subscribe)",id:"topics-publish-subscribe",level:3},{value:"Services (Request-Response)",id:"services-request-response",level:3},{value:"Actions (Long-Running Tasks)",id:"actions-long-running-tasks",level:3},{value:"Parameters",id:"parameters",level:3},{value:"ROS 2 Architecture Diagram",id:"ros-2-architecture-diagram",level:2},{value:"DDS Middleware",id:"dds-middleware",level:2},{value:"Communication Patterns Comparison",id:"communication-patterns-comparison",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"When to Use Each Pattern",id:"when-to-use-each-pattern",level:3},{value:"Node Design Principles",id:"node-design-principles",level:3},{value:"Advanced Topics",id:"advanced-topics",level:2},{value:"Lifecycle Nodes",id:"lifecycle-nodes",level:3},{value:"Component Composition",id:"component-composition",level:3},{value:"Executors",id:"executors",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Further Reading",id:"further-reading",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"01-ros-2-system-architecture",children:"01. ROS 2 System Architecture"})}),"\n",(0,r.jsx)(n.h2,{id:"pubsub-services-actions-parameters-nodes-topics",children:"Pub/Sub, Services, Actions, Parameters, Nodes, Topics"}),"\n",(0,r.jsx)(n.p,{children:"This chapter provides a comprehensive overview of the ROS 2 (Robot Operating System 2) system architecture, focusing on its core communication mechanisms and organizational concepts."}),"\n",(0,r.jsx)(n.h2,{id:"introduction-to-ros-2",children:"Introduction to ROS 2"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 is the next generation of the Robot Operating System, designed to address the limitations of ROS 1 and meet the demands of modern robotics applications, including real-time systems, embedded platforms, and multi-robot deployments."}),"\n",(0,r.jsx)(n.h3,{id:"why-ros-2",children:"Why ROS 2?"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Improvements over ROS 1:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Real-time capabilities"}),": Support for deterministic execution"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Better security"}),": Authentication, encryption, and access control"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-platform"}),": Works on Linux, Windows, macOS"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Production-ready"}),": Designed for commercial deployments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DDS middleware"}),": Industry-standard communication layer"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lifecycle management"}),": Better control over node states"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Composition"}),": Run multiple nodes in a single process"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,r.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Nodes"})," are the fundamental building blocks of ROS 2 applications. Each node is an independent executable that performs a specific task."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Single-purpose processes or threads"}),"\n",(0,r.jsx)(n.li,{children:"Can be written in Python, C++, or other supported languages"}),"\n",(0,r.jsx)(n.li,{children:"Communicate with other nodes through topics, services, and actions"}),"\n",(0,r.jsx)(n.li,{children:"Have lifecycle states (configuring, active, inactive, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MyNode(Node):\n    def __init__(self):\n        super().__init__('my_node')\n        self.get_logger().info('Node initialized')\n\ndef main():\n    rclpy.init()\n    node = MyNode()\n    rclpy.spin(node)\n    rclpy.shutdown()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"topics-publish-subscribe",children:"Topics (Publish-Subscribe)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Topics"})," implement the publish-subscribe pattern for continuous data streams. This is the most common communication method in ROS 2."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How it works:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Publishers"})," send messages to a topic"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscribers"})," receive messages from a topic"]}),"\n",(0,r.jsx)(n.li,{children:"Many-to-many relationship: multiple publishers and subscribers per topic"}),"\n",(0,r.jsx)(n.li,{children:"Asynchronous, decoupled communication"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sensor data streams (camera images, LiDAR scans)"}),"\n",(0,r.jsx)(n.li,{children:"Robot state information (position, velocity)"}),"\n",(0,r.jsx)(n.li,{children:"Continuous monitoring data"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Publisher\nclass TalkerNode(Node):\n    def __init__(self):\n        super().__init__('talker')\n        self.publisher = self.create_publisher(String, 'chatter', 10)\n        self.timer = self.create_timer(1.0, self.timer_callback)\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World'\n        self.publisher.publish(msg)\n\n# Subscriber\nclass ListenerNode(Node):\n    def __init__(self):\n        super().__init__('listener')\n        self.subscription = self.create_subscription(\n            String, 'chatter', self.listener_callback, 10)\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'Received: {msg.data}')\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Quality of Service (QoS):"}),"\nROS 2 allows fine-grained control over message delivery:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reliability"}),": Best effort vs. reliable delivery"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"History"}),": Keep last N messages or all messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Durability"}),": Transient local (for late subscribers) vs. volatile"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lifespan"}),": Message expiration time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deadline"}),": Expected publish rate"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"services-request-response",children:"Services (Request-Response)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Services"})," provide synchronous request-response communication for one-off tasks."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How it works:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Client"})," sends a request"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server"})," processes the request"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server"})," sends back a response"]}),"\n",(0,r.jsx)(n.li,{children:"Client waits (blocking) for the response"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"One-time computations (inverse kinematics)"}),"\n",(0,r.jsx)(n.li,{children:"Configuration changes"}),"\n",(0,r.jsx)(n.li,{children:"State queries"}),"\n",(0,r.jsx)(n.li,{children:"Resource allocation"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Service Server\nclass AddTwoIntsServer(Node):\n    def __init__(self):\n        super().__init__('add_two_ints_server')\n        self.srv = self.create_service(\n            AddTwoInts, 'add_two_ints', self.add_callback)\n\n    def add_callback(self, request, response):\n        response.sum = request.a + request.b\n        self.get_logger().info(f'{request.a} + {request.b} = {response.sum}')\n        return response\n\n# Service Client\nclass AddTwoIntsClient(Node):\n    def __init__(self):\n        super().__init__('add_two_ints_client')\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\n\n    def send_request(self, a, b):\n        request = AddTwoInts.Request()\n        request.a = a\n        request.b = b\n        future = self.cli.call_async(request)\n        return future\n"})}),"\n",(0,r.jsx)(n.h3,{id:"actions-long-running-tasks",children:"Actions (Long-Running Tasks)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Actions"})," are designed for tasks that take time to complete and may need to be cancelled or provide feedback."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How it works:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Client"})," sends a goal"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server"})," accepts or rejects the goal"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server"})," provides periodic feedback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Client"})," can cancel the goal at any time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server"})," returns a final result"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Three communication channels:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Goal"}),": Client \u2192 Server (what to do)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Feedback"}),": Server \u2192 Client (progress updates)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Result"}),": Server \u2192 Client (final outcome)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Navigation to a waypoint"}),"\n",(0,r.jsx)(n.li,{children:"Grasping an object"}),"\n",(0,r.jsx)(n.li,{children:"Long computations"}),"\n",(0,r.jsx)(n.li,{children:"Motion planning"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Action Server\nclass FibonacciActionServer(Node):\n    def __init__(self):\n        super().__init__('fibonacci_server')\n        self._action_server = ActionServer(\n            self, Fibonacci, 'fibonacci', self.execute_callback)\n\n    def execute_callback(self, goal_handle):\n        feedback_msg = Fibonacci.Feedback()\n        sequence = [0, 1]\n\n        for i in range(1, goal_handle.request.order):\n            # Check if cancelled\n            if goal_handle.is_cancel_requested:\n                goal_handle.canceled()\n                return Fibonacci.Result()\n\n            sequence.append(sequence[i] + sequence[i-1])\n            feedback_msg.sequence = sequence\n            goal_handle.publish_feedback(feedback_msg)\n            time.sleep(1)\n\n        goal_handle.succeed()\n        result = Fibonacci.Result()\n        result.sequence = sequence\n        return result\n"})}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Parameters"})," are configuration values that can be set and modified at runtime."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Characteristics:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Stored per-node"}),"\n",(0,r.jsx)(n.li,{children:"Can be read and written dynamically"}),"\n",(0,r.jsx)(n.li,{children:"Support types: bool, int, float, string, arrays"}),"\n",(0,r.jsx)(n.li,{children:"Can be loaded from YAML files"}),"\n",(0,r.jsx)(n.li,{children:"Can be changed via command-line or programmatically"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class ParameterNode(Node):\n    def __init__(self):\n        super().__init__('parameter_node')\n\n        # Declare parameters with defaults\n        self.declare_parameter('my_parameter', 'default_value')\n        self.declare_parameter('max_speed', 1.0)\n\n        # Read parameter\n        param_value = self.get_parameter('my_parameter').value\n\n        # Parameter callback for updates\n        self.add_on_set_parameters_callback(self.parameter_callback)\n\n    def parameter_callback(self, params):\n        for param in params:\n            if param.name == 'max_speed':\n                self.get_logger().info(f'Max speed changed to {param.value}')\n        return SetParametersResult(successful=True)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"ros-2-architecture-diagram",children:"ROS 2 Architecture Diagram"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    ROS 2 Application                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Node A          Node B          Node C          Node D  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502Pub \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502Sub \u2502         \u2502Cli \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502Srv \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2518  Topic  \u2514\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2518 Service \u2514\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2510                         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502Goal\u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502Action \u2502              \u2502\n\u2502  \u2502Cli \u2502\u25c0\u2500\u2500\u2500\u2500Feedback\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502Server \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2518\u25c0\u2500\u2500\u2500\u2500Result\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              RCL (ROS Client Library)                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              DDS Middleware (Data Distribution Service)  \u2502\n\u2502              (FastDDS, CycloneDDS, RTI Connext, etc.)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h2,{id:"dds-middleware",children:"DDS Middleware"}),"\n",(0,r.jsxs)(n.p,{children:["ROS 2 uses ",(0,r.jsx)(n.strong,{children:"DDS (Data Distribution Service)"})," as its middleware layer, providing:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic discovery"}),": Nodes find each other without centralized master"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"QoS policies"}),": Fine-grained control over communication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": Built-in authentication and encryption"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multiple vendors"}),": Choose from different DDS implementations"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Available DDS implementations:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"FastDDS"})," (default): eProsima's implementation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CycloneDDS"}),": Eclipse project, lightweight"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RTI Connext"}),": Commercial, high-performance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gurum DDS"}),": Korean implementation"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"communication-patterns-comparison",children:"Communication Patterns Comparison"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Topics"}),(0,r.jsx)(n.th,{children:"Services"}),(0,r.jsx)(n.th,{children:"Actions"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Pattern"}),(0,r.jsx)(n.td,{children:"Pub/Sub"}),(0,r.jsx)(n.td,{children:"Request/Response"}),(0,r.jsx)(n.td,{children:"Goal-based"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Direction"}),(0,r.jsx)(n.td,{children:"Many-to-Many"}),(0,r.jsx)(n.td,{children:"One-to-One"}),(0,r.jsx)(n.td,{children:"One-to-One"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Synchronous"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Asynchronous goal, sync result"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Feedback"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Cancellable"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Use Case"}),(0,r.jsx)(n.td,{children:"Continuous data"}),(0,r.jsx)(n.td,{children:"Quick queries"}),(0,r.jsx)(n.td,{children:"Long tasks"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"when-to-use-each-pattern",children:"When to Use Each Pattern"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Topics when:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Continuous data streams are needed"}),"\n",(0,r.jsx)(n.li,{children:"Multiple nodes need the same data"}),"\n",(0,r.jsx)(n.li,{children:"Decoupled, asynchronous communication is preferred"}),"\n",(0,r.jsx)(n.li,{children:"Examples: sensor data, robot state"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Services when:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Quick, one-time operations"}),"\n",(0,r.jsx)(n.li,{children:"Synchronous response is needed"}),"\n",(0,r.jsx)(n.li,{children:"State queries or configuration"}),"\n",(0,r.jsx)(n.li,{children:"Examples: calculating IK, toggling modes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use Actions when:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Long-running tasks"}),"\n",(0,r.jsx)(n.li,{children:"Progress feedback is important"}),"\n",(0,r.jsx)(n.li,{children:"Need ability to cancel"}),"\n",(0,r.jsx)(n.li,{children:"Examples: navigation, manipulation, planning"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"node-design-principles",children:"Node Design Principles"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Single Responsibility"}),": Each node should do one thing well"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Composability"}),": Nodes should work together like UNIX tools"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configurability"}),": Use parameters for runtime configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Observability"}),": Publish diagnostic information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Robustness"}),": Handle failures and timeouts gracefully"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"advanced-topics",children:"Advanced Topics"}),"\n",(0,r.jsx)(n.h3,{id:"lifecycle-nodes",children:"Lifecycle Nodes"}),"\n",(0,r.jsx)(n.p,{children:"ROS 2 provides managed lifecycle nodes with states:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Unconfigured"}),": Initial state"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Inactive"}),": Configured but not running"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Active"}),": Fully operational"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Finalized"}),": Shutdown"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This allows better control over startup, shutdown, and error recovery."}),"\n",(0,r.jsx)(n.h3,{id:"component-composition",children:"Component Composition"}),"\n",(0,r.jsx)(n.p,{children:"Multiple nodes can run in a single process for efficiency:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reduced overhead"}),"\n",(0,r.jsx)(n.li,{children:"Zero-copy message passing within process"}),"\n",(0,r.jsx)(n.li,{children:"Easier debugging"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"executors",children:"Executors"}),"\n",(0,r.jsx)(n.p,{children:"Executors control how callbacks are executed:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SingleThreadedExecutor"}),": Default, simple"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MultiThreadedExecutor"}),": Parallel callback execution"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"StaticSingleThreadedExecutor"}),": Optimized for real-time"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ROS 2 uses a distributed architecture with nodes communicating via middleware"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Topics"})," for continuous data streams (asynchronous, many-to-many)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Services"})," for request-response patterns (synchronous, one-to-one)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Actions"})," for long-running tasks with feedback and cancellation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters"})," for runtime configuration"]}),"\n",(0,r.jsx)(n.li,{children:"DDS middleware provides discovery, QoS, and security"}),"\n",(0,r.jsx)(n.li,{children:"Choose the right communication pattern for your use case"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["ROS 2 Documentation: ",(0,r.jsx)(n.a,{href:"https://docs.ros.org/",children:"https://docs.ros.org/"})]}),"\n",(0,r.jsxs)(n.li,{children:["ROS 2 Design: ",(0,r.jsx)(n.a,{href:"https://design.ros2.org/",children:"https://design.ros2.org/"})]}),"\n",(0,r.jsxs)(n.li,{children:["DDS specification: ",(0,r.jsx)(n.a,{href:"https://www.omg.org/spec/DDS/",children:"https://www.omg.org/spec/DDS/"})]}),"\n",(0,r.jsxs)(n.li,{children:["ROS 2 Tutorials: ",(0,r.jsx)(n.a,{href:"https://docs.ros.org/en/rolling/Tutorials.html",children:"https://docs.ros.org/en/rolling/Tutorials.html"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var i=s(6540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);