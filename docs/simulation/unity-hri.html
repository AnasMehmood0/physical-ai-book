<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-simulation/unity-hri" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">02. Unity HRI | Physical AI Book</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://anasmehmood0.github.io/physical-ai-book/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://anasmehmood0.github.io/physical-ai-book/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://anasmehmood0.github.io/physical-ai-book/docs/simulation/unity-hri"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="02. Unity HRI | Physical AI Book"><meta data-rh="true" name="description" content="Designing Human-Robot Interaction in Simulation"><meta data-rh="true" property="og:description" content="Designing Human-Robot Interaction in Simulation"><link data-rh="true" rel="icon" href="/physical-ai-book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://anasmehmood0.github.io/physical-ai-book/docs/simulation/unity-hri"><link data-rh="true" rel="alternate" href="https://anasmehmood0.github.io/physical-ai-book/docs/simulation/unity-hri" hreflang="en"><link data-rh="true" rel="alternate" href="https://anasmehmood0.github.io/physical-ai-book/docs/simulation/unity-hri" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"02. Unity HRI","item":"https://anasmehmood0.github.io/physical-ai-book/docs/simulation/unity-hri"}]}</script><link rel="alternate" type="application/rss+xml" href="/physical-ai-book/blog/rss.xml" title="Physical AI Book RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/physical-ai-book/blog/atom.xml" title="Physical AI Book Atom Feed"><link rel="stylesheet" href="/physical-ai-book/assets/css/styles.28b30a6a.css">
<script src="/physical-ai-book/assets/js/runtime~main.04c92617.js" defer="defer"></script>
<script src="/physical-ai-book/assets/js/main.96c1eeaf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/physical-ai-book/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/physical-ai-book/"><div class="navbar__logo"><img src="/physical-ai-book/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/physical-ai-book/img/logo.svg" alt="Physical AI Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI Book</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/physical-ai-book/docs/foundations/embodied-intelligence">Read Book</a><a class="navbar__item navbar__link" href="/physical-ai-book/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/AnasMehmood0/physical-ai-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/physical-ai-book/docs/foundations/embodied-intelligence"><span title="01. Foundations" class="categoryLinkLabel_W154">01. Foundations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/physical-ai-book/docs/ros2/architecture"><span title="02. ROS 2 System" class="categoryLinkLabel_W154">02. ROS 2 System</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/physical-ai-book/docs/simulation/gazebo-physics"><span title="03. Simulation" class="categoryLinkLabel_W154">03. Simulation</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/physical-ai-book/docs/simulation/gazebo-physics"><span title="01. Gazebo Physics" class="linkLabel_WmDU">01. Gazebo Physics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/physical-ai-book/docs/simulation/unity-hri"><span title="02. Unity HRI" class="linkLabel_WmDU">02. Unity HRI</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/physical-ai-book/docs/isaac/isaac-sdk"><span title="04. Isaac Brain" class="categoryLinkLabel_W154">04. Isaac Brain</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/physical-ai-book/docs/vla/whisper-voice"><span title="05. VLA &amp; Capstone" class="categoryLinkLabel_W154">05. VLA &amp; Capstone</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/physical-ai-book/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">03. Simulation</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">02. Unity HRI</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>02. Unity HRI</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="designing-human-robot-interaction-in-simulation">Designing Human-Robot Interaction in Simulation<a href="#designing-human-robot-interaction-in-simulation" class="hash-link" aria-label="Direct link to Designing Human-Robot Interaction in Simulation" title="Direct link to Designing Human-Robot Interaction in Simulation" translate="no">​</a></h2>
<p>This chapter focuses on designing and simulating human-robot interaction (HRI) within the Unity development environment. It covers the principles of intuitive HRI, including visual feedback, haptic interaction, and natural language processing in a simulated context. The chapter will guide readers through creating interactive 3D environments in Unity, developing virtual human avatars, and programming robot behaviors that respond to human input and gestures. Emphasis will be placed on evaluating user experience, iterating on interaction designs, and leveraging Unity&#x27;s capabilities to build realistic and engaging HRI scenarios for research and development.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-unity-for-robotics-simulation">Why Unity for Robotics Simulation?<a href="#why-unity-for-robotics-simulation" class="hash-link" aria-label="Direct link to Why Unity for Robotics Simulation?" title="Direct link to Why Unity for Robotics Simulation?" translate="no">​</a></h2>
<p>Unity is a powerful game engine that has become increasingly popular for robotics simulation, particularly for human-robot interaction scenarios.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="advantages-of-unity">Advantages of Unity<a href="#advantages-of-unity" class="hash-link" aria-label="Direct link to Advantages of Unity" title="Direct link to Advantages of Unity" translate="no">​</a></h3>
<p><strong>High-Quality Graphics:</strong></p>
<ul>
<li class="">Photorealistic rendering with HDRP (High Definition Render Pipeline)</li>
<li class="">Real-time lighting and shadows</li>
<li class="">Post-processing effects</li>
<li class="">Particle systems for environmental effects</li>
</ul>
<p><strong>Cross-Platform Development:</strong></p>
<ul>
<li class="">Windows, macOS, Linux</li>
<li class="">VR/AR headsets (Meta Quest, HTC Vive, HoloLens)</li>
<li class="">Mobile devices (iOS, Android)</li>
<li class="">WebGL for browser-based simulations</li>
</ul>
<p><strong>Rich Asset Ecosystem:</strong></p>
<ul>
<li class="">Unity Asset Store with thousands of 3D models, animations, and plugins</li>
<li class="">Humanoid avatars and animation systems</li>
<li class="">Environmental assets (buildings, furniture, outdoor scenes)</li>
<li class="">Prefabricated UI components</li>
</ul>
<p><strong>Machine Learning Integration:</strong></p>
<ul>
<li class="">Unity ML-Agents for reinforcement learning</li>
<li class="">Barracuda inference engine for neural networks</li>
<li class="">Python API for custom training pipelines</li>
</ul>
<p><strong>User Interface and Interaction:</strong></p>
<ul>
<li class="">Intuitive UI system for control panels and feedback</li>
<li class="">Event system for interaction handling</li>
<li class="">Input system supporting keyboards, gamepads, VR controllers</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unity-vs-traditional-robotics-simulators">Unity vs. Traditional Robotics Simulators<a href="#unity-vs-traditional-robotics-simulators" class="hash-link" aria-label="Direct link to Unity vs. Traditional Robotics Simulators" title="Direct link to Unity vs. Traditional Robotics Simulators" translate="no">​</a></h3>
<table><thead><tr><th>Feature</th><th>Unity</th><th>Gazebo/ROS-based</th></tr></thead><tbody><tr><td><strong>Graphics</strong></td><td>Excellent</td><td>Good</td></tr><tr><td><strong>HRI Focus</strong></td><td>Strong</td><td>Moderate</td></tr><tr><td><strong>Physics</strong></td><td>Good (PhysX)</td><td>Excellent</td></tr><tr><td><strong>VR/AR</strong></td><td>Native support</td><td>Requires plugins</td></tr><tr><td><strong>Asset ecosystem</strong></td><td>Massive</td><td>Limited</td></tr><tr><td><strong>ROS integration</strong></td><td>Via bridges</td><td>Native</td></tr><tr><td><strong>Learning curve</strong></td><td>Moderate</td><td>Steep</td></tr><tr><td><strong>ML integration</strong></td><td>ML-Agents</td><td>Requires custom code</td></tr></tbody></table>
<p><strong>When to choose Unity:</strong></p>
<ul>
<li class="">HRI research requiring realistic human avatars</li>
<li class="">VR/AR teleoperation interfaces</li>
<li class="">Consumer-facing demonstrations</li>
<li class="">Rapid prototyping of interaction scenarios</li>
<li class="">Training with visual diversity</li>
</ul>
<p><strong>When to choose Gazebo:</strong></p>
<ul>
<li class="">High-fidelity physics simulation</li>
<li class="">Native ROS 2 integration</li>
<li class="">Multi-robot systems</li>
<li class="">Sensor accuracy is critical</li>
<li class="">Established ROS-based workflows</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unity-ml-agents-toolkit">Unity ML-Agents Toolkit<a href="#unity-ml-agents-toolkit" class="hash-link" aria-label="Direct link to Unity ML-Agents Toolkit" title="Direct link to Unity ML-Agents Toolkit" translate="no">​</a></h2>
<p>ML-Agents is Unity&#x27;s framework for training intelligent agents using reinforcement learning, imitation learning, and neuroevolution.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│           Unity Environment             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────┐      ┌──────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   Agent    │◄────►│ Environment  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │            │      │              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ - Brain    │      │ - Rewards    │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ - Sensors  │      │ - Reset      │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │ - Actions  │      │              │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └────────────┘      └──────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ▲                   ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            │  Python API (Gym Interface)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ▼                   ▲</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       Python Training Process           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  ┌────────────┐      ┌──────────────┐  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   PPO/SAC  │◄────►│  TensorFlow  │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  │   Trainer  │      │   /PyTorch   │  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│  └────────────┘      └──────────────┘  │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="installing-ml-agents">Installing ML-Agents<a href="#installing-ml-agents" class="hash-link" aria-label="Direct link to Installing ML-Agents" title="Direct link to Installing ML-Agents" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Install Python package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install mlagents</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Install Unity package (in Unity Editor)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Window → Package Manager → Add package from git URL:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># com.unity.ml-agents</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-simple-agent">Creating a Simple Agent<a href="#creating-a-simple-agent" class="hash-link" aria-label="Direct link to Creating a Simple Agent" title="Direct link to Creating a Simple Agent" translate="no">​</a></h3>
<p><strong>C# Agent Script:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.MLAgents;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.MLAgents.Sensors;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.MLAgents.Actuators;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotAgent : Agent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Transform target;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float moveSpeed = 5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float rotationSpeed = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Rigidbody rb;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override void Initialize()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb = GetComponent&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override void OnEpisodeBegin()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Reset agent position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.localPosition = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-4f, 4f),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            0.5f,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-4f, 4f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.velocity = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.angularVelocity = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Reset target position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        target.localPosition = new Vector3(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-4f, 4f),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            0.5f,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Random.Range(-4f, 4f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override void CollectObservations(VectorSensor sensor)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Agent position (3 values)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensor.AddObservation(transform.localPosition);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Target position (3 values)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensor.AddObservation(target.localPosition);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Agent velocity (3 values)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensor.AddObservation(rb.velocity);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Direction to target (3 values)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 directionToTarget = (target.localPosition - transform.localPosition).normalized;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensor.AddObservation(directionToTarget);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Distance to target (1 value)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float distance = Vector3.Distance(transform.localPosition, target.localPosition);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensor.AddObservation(distance);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Total: 13 observations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override void OnActionReceived(ActionBuffers actions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Actions: [0] = forward/backward, [1] = rotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float moveZ = actions.ContinuousActions[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float rotation = actions.ContinuousActions[1];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply movement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 movement = transform.forward * moveZ * moveSpeed * Time.fixedDeltaTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rb.MovePosition(rb.position + movement);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply rotation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.Rotate(0f, rotation * rotationSpeed * Time.fixedDeltaTime, 0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Reward shaping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float distanceToTarget = Vector3.Distance(transform.localPosition, target.localPosition);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Small negative reward for time (encourage speed)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AddReward(-0.001f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Reward for getting closer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AddReward(-distanceToTarget * 0.01f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Check if reached target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (distanceToTarget &lt; 1.5f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            AddReward(1.0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EndEpisode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Fall off platform</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (transform.localPosition.y &lt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            AddReward(-1.0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EndEpisode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public override void Heuristic(in ActionBuffers actionsOut)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Manual control for testing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var continuousActions = actionsOut.ContinuousActions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        continuousActions[0] = Input.GetAxis(&quot;Vertical&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        continuousActions[1] = Input.GetAxis(&quot;Horizontal&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void OnCollisionEnter(Collision collision)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (collision.gameObject.CompareTag(&quot;Target&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            AddReward(1.0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EndEpisode();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else if (collision.gameObject.CompareTag(&quot;Obstacle&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            AddReward(-0.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="training-configuration">Training Configuration<a href="#training-configuration" class="hash-link" aria-label="Direct link to Training Configuration" title="Direct link to Training Configuration" translate="no">​</a></h3>
<p><strong>trainer_config.yaml:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">behaviors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">RobotAgent</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">trainer_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ppo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">hyperparameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">batch_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">buffer_size</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10240</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">learning_rate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0003</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">beta</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.005</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">epsilon</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">lambd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.95</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">num_epoch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">learning_rate_schedule</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> linear</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">network_settings</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">normalize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">hidden_units</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">256</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">num_layers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">vis_encode_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> simple</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">reward_signals</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">extrinsic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">gamma</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">strength</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">max_steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">time_horizon</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">summary_freq</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="training-the-agent">Training the Agent<a href="#training-the-agent" class="hash-link" aria-label="Direct link to Training the Agent" title="Direct link to Training the Agent" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Start training</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlagents-learn trainer_config.yaml --run-id=robot_navigation_01</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Resume training</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mlagents-learn trainer_config.yaml --run-id=robot_navigation_01 --resume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Monitor with TensorBoard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tensorboard --logdir results/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-realistic-hri-scenarios">Creating Realistic HRI Scenarios<a href="#creating-realistic-hri-scenarios" class="hash-link" aria-label="Direct link to Creating Realistic HRI Scenarios" title="Direct link to Creating Realistic HRI Scenarios" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="virtual-human-avatars">Virtual Human Avatars<a href="#virtual-human-avatars" class="hash-link" aria-label="Direct link to Virtual Human Avatars" title="Direct link to Virtual Human Avatars" translate="no">​</a></h3>
<p>Unity&#x27;s Humanoid rig system allows for realistic human animations and interaction.</p>
<p><strong>Setting Up Human Avatar:</strong></p>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine.AI;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class VirtualHuman : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Animator animator;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private NavMeshAgent navAgent;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Transform robot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private bool isInteracting = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float interactionDistance = 2f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Calculate distance to robot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float distance = Vector3.Distance(transform.position, robot.position);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Update animation based on state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (distance &lt; interactionDistance &amp;&amp; !isInteracting)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            StartInteraction();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else if (distance &gt;= interactionDistance &amp;&amp; isInteracting)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            EndInteraction();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Update animator parameters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetFloat(&quot;Speed&quot;, navAgent.velocity.magnitude);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetBool(&quot;IsInteracting&quot;, isInteracting);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void StartInteraction()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isInteracting = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        navAgent.isStopped = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Look at robot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 lookDirection = robot.position - transform.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lookDirection.y = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.rotation = Quaternion.LookRotation(lookDirection);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Trigger wave animation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetTrigger(&quot;Wave&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Debug.Log(&quot;Human started interaction with robot&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void EndInteraction()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isInteracting = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        navAgent.isStopped = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetTrigger(&quot;Walk&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void ReceiveObjectFromRobot(GameObject obj)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Play receive animation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetTrigger(&quot;Receive&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Hand IK to position hands correctly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        StartCoroutine(PerformHandoff(obj));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private System.Collections.IEnumerator PerformHandoff(GameObject obj)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Enable IK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetIKPositionWeight(AvatarIKGoal.RightHand, 1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetIKRotationWeight(AvatarIKGoal.RightHand, 1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float duration = 1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float elapsed = 0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Transform rightHand = animator.GetBoneTransform(HumanBodyBones.RightHand);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (elapsed &lt; duration)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Move hand to object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetIKPosition(AvatarIKGoal.RightHand, obj.transform.position);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetIKRotation(AvatarIKGoal.RightHand, obj.transform.rotation);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            elapsed += Time.deltaTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            yield return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Attach object to hand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        obj.transform.SetParent(rightHand);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        obj.transform.localPosition = Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        yield return new WaitForSeconds(0.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Disable IK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetIKPositionWeight(AvatarIKGoal.RightHand, 0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetIKRotationWeight(AvatarIKGoal.RightHand, 0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gaze-and-attention-tracking">Gaze and Attention Tracking<a href="#gaze-and-attention-tracking" class="hash-link" aria-label="Direct link to Gaze and Attention Tracking" title="Direct link to Gaze and Attention Tracking" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class GazeController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Animator animator;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Transform eyeTarget;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float gazeSpeed = 2f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float blinkInterval = 3f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Transform currentLookTarget;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float nextBlinkTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nextBlinkTime = Time.time + blinkInterval;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnAnimatorIK(int layerIndex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (currentLookTarget != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // Look at target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetLookAtWeight(1f, 0.5f, 1f, 0f, 0.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetLookAtPosition(currentLookTarget.position);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetLookAtWeight(0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Blink periodically</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time &gt; nextBlinkTime)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetTrigger(&quot;Blink&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            nextBlinkTime = Time.time + Random.Range(2f, 5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void SetGazeTarget(Transform target)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        currentLookTarget = target;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void ClearGazeTarget()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        currentLookTarget = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="social-interaction-behaviors">Social Interaction Behaviors<a href="#social-interaction-behaviors" class="hash-link" aria-label="Direct link to Social Interaction Behaviors" title="Direct link to Social Interaction Behaviors" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SocialBehaviorController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public enum Emotion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Neutral,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Happy,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Surprised,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Confused,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Frustrated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Animator animator;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private AudioSource voiceSource;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Dictionary&lt;Emotion, AudioClip&gt; emotionSounds;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Emotion currentEmotion = Emotion.Neutral;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void ExpressEmotion(Emotion emotion)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        currentEmotion = emotion;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        switch (emotion)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case Emotion.Happy:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetTrigger(&quot;Smile&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetFloat(&quot;EmotionBlend&quot;, 1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case Emotion.Surprised:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetTrigger(&quot;Surprise&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetFloat(&quot;EmotionBlend&quot;, 0.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case Emotion.Confused:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetTrigger(&quot;TiltHead&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetFloat(&quot;EmotionBlend&quot;, -0.5f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case Emotion.Frustrated:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetTrigger(&quot;CrossArms&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetFloat(&quot;EmotionBlend&quot;, -1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                animator.SetFloat(&quot;EmotionBlend&quot;, 0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Play corresponding sound</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (emotionSounds.ContainsKey(emotion))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            voiceSource.PlayOneShot(emotionSounds[emotion]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void PointAt(Vector3 worldPosition)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Calculate pointing direction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 direction = worldPosition - transform.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        direction.y = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Orient body towards target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.rotation = Quaternion.LookRotation(direction);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Trigger pointing animation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetTrigger(&quot;Point&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Use IK to point accurately</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        StartCoroutine(PointingIK(worldPosition));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private System.Collections.IEnumerator PointingIK(Vector3 target)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float duration = 2f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float elapsed = 0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (elapsed &lt; duration)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetIKPositionWeight(AvatarIKGoal.RightHand, 1f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            animator.SetIKPosition(AvatarIKGoal.RightHand, target);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            elapsed += Time.deltaTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            yield return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        animator.SetIKPositionWeight(AvatarIKGoal.RightHand, 0f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="articulation-bodies-for-robot-simulation">Articulation Bodies for Robot Simulation<a href="#articulation-bodies-for-robot-simulation" class="hash-link" aria-label="Direct link to Articulation Bodies for Robot Simulation" title="Direct link to Articulation Bodies for Robot Simulation" translate="no">​</a></h2>
<p>Unity&#x27;s Articulation Body system provides high-fidelity physics simulation for robotic systems.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-articulation-bodies">Why Articulation Bodies?<a href="#why-articulation-bodies" class="hash-link" aria-label="Direct link to Why Articulation Bodies?" title="Direct link to Why Articulation Bodies?" translate="no">​</a></h3>
<p><strong>Advantages over Rigidbody + Joints:</strong></p>
<ul>
<li class="">More stable for complex kinematic chains</li>
<li class="">Reduced jitter and drift</li>
<li class="">Better performance for robots with many joints</li>
<li class="">Accurate force/torque control</li>
<li class="">Built-in friction and damping models</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="creating-a-robot-arm">Creating a Robot Arm<a href="#creating-a-robot-arm" class="hash-link" aria-label="Direct link to Creating a Robot Arm" title="Direct link to Creating a Robot Arm" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotArmController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private ArticulationBody[] joints;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float maxVelocity = 1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float maxForce = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float[] targetPositions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float[] targetVelocities;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        targetPositions = new float[joints.Length];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        targetVelocities = new float[joints.Length];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure each joint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; joints.Length; i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ConfigureJoint(joints[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ConfigureJoint(ArticulationBody joint)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Set joint properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.jointFriction = 0.05f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.angularDamping = 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.linearDamping = 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Configure drive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var drive = joint.xDrive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        drive.stiffness = 1000f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        drive.damping = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        drive.forceLimit = maxForce;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        joint.xDrive = drive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void SetJointTarget(int jointIndex, float targetAngle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (jointIndex &gt;= 0 &amp;&amp; jointIndex &lt; joints.Length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var drive = joints[jointIndex].xDrive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            drive.target = targetAngle * Mathf.Rad2Deg; // Convert to degrees</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            joints[jointIndex].xDrive = drive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void SetJointVelocity(int jointIndex, float velocity)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (jointIndex &gt;= 0 &amp;&amp; jointIndex &lt; joints.Length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            var drive = joints[jointIndex].xDrive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            drive.targetVelocity = velocity * Mathf.Rad2Deg;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            joints[jointIndex].xDrive = drive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float GetJointPosition(int jointIndex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (jointIndex &gt;= 0 &amp;&amp; jointIndex &lt; joints.Length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return joints[jointIndex].jointPosition[0] * Mathf.Deg2Rad;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float GetJointVelocity(int jointIndex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (jointIndex &gt;= 0 &amp;&amp; jointIndex &lt; joints.Length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return joints[jointIndex].jointVelocity[0] * Mathf.Deg2Rad;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void MoveToConfiguration(float[] angles)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int i = 0; i &lt; Mathf.Min(angles.Length, joints.Length); i++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SetJointTarget(i, angles[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Forward kinematics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Vector3 GetEndEffectorPosition()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (joints.Length &gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ArticulationBody lastJoint = joints[joints.Length - 1];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return lastJoint.transform.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Vector3.zero;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gripper-control">Gripper Control<a href="#gripper-control" class="hash-link" aria-label="Direct link to Gripper Control" title="Direct link to Gripper Control" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotGripper : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private ArticulationBody leftFinger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private ArticulationBody rightFinger;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float gripForce = 50f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float openAngle = 0f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float closeAngle = 45f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private bool isGrasping = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;Rigidbody&gt; graspedObjects = new List&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Open()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetFingerAngle(leftFinger, openAngle);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetFingerAngle(rightFinger, openAngle);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isGrasping = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Release grasped objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var obj in graspedObjects)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (obj != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                obj.isKinematic = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                obj.transform.SetParent(null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        graspedObjects.Clear();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void Close()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetFingerAngle(leftFinger, closeAngle);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SetFingerAngle(rightFinger, closeAngle);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        isGrasping = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Check for objects to grasp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CheckGrasp();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void SetFingerAngle(ArticulationBody finger, float angle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var drive = finger.xDrive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        drive.target = angle;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        drive.forceLimit = gripForce;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        finger.xDrive = drive;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void CheckGrasp()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Find objects between fingers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 center = (leftFinger.transform.position + rightFinger.transform.position) / 2f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float distance = Vector3.Distance(leftFinger.transform.position, rightFinger.transform.position);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Collider[] colliders = Physics.OverlapSphere(center, distance / 2f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        foreach (var collider in colliders)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (collider.CompareTag(&quot;Graspable&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Rigidbody rb = collider.GetComponent&lt;Rigidbody&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (rb != null &amp;&amp; !graspedObjects.Contains(rb))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // Attach object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    rb.isKinematic = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    rb.transform.SetParent(transform);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    graspedObjects.Add(rb);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public bool IsGrasping()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return isGrasping &amp;&amp; graspedObjects.Count &gt; 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="sensor-simulation-in-unity">Sensor Simulation in Unity<a href="#sensor-simulation-in-unity" class="hash-link" aria-label="Direct link to Sensor Simulation in Unity" title="Direct link to Sensor Simulation in Unity" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="camera-sensors">Camera Sensors<a href="#camera-sensors" class="hash-link" aria-label="Direct link to Camera Sensors" title="Direct link to Camera Sensors" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class RobotCamera : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Camera sensorCamera;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int width = 640;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int height = 480;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float updateRate = 30f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RenderTexture renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Texture2D outputTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float nextUpdateTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Create render texture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        renderTexture = new RenderTexture(width, height, 24);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensorCamera.targetTexture = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        outputTexture = new Texture2D(width, height, TextureFormat.RGB24, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time &gt;= nextUpdateTime)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CaptureImage();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            nextUpdateTime = Time.time + (1f / updateRate);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void CaptureImage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Render camera</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sensorCamera.Render();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Read pixels</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = renderTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        outputTexture.ReadPixels(new Rect(0, 0, width, height), 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        outputTexture.Apply();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Process or send to ML system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ProcessImage(outputTexture);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ProcessImage(Texture2D image)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Example: Send to Python for processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        byte[] imageBytes = image.EncodeToJPG();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // SendToPython(imageBytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Texture2D GetLatestImage()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return outputTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="depth-camera">Depth Camera<a href="#depth-camera" class="hash-link" aria-label="Direct link to Depth Camera" title="Direct link to Depth Camera" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[RequireComponent(typeof(Camera))]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DepthCamera : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Shader depthShader;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float maxDistance = 10f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Camera depthCamera;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private RenderTexture depthTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depthCamera = GetComponent&lt;Camera&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depthCamera.depthTextureMode = DepthTextureMode.Depth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depthTexture = new RenderTexture(640, 480, 24, RenderTextureFormat.RFloat);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depthCamera.targetTexture = depthTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (depthShader != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            depthCamera.SetReplacementShader(depthShader, &quot;RenderType&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public float[,] GetDepthData()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = depthTexture;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Texture2D tex = new Texture2D(depthTexture.width, depthTexture.height, TextureFormat.RFloat, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tex.ReadPixels(new Rect(0, 0, depthTexture.width, depthTexture.height), 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tex.Apply();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float[,] depthData = new float[depthTexture.width, depthTexture.height];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int y = 0; y &lt; depthTexture.height; y++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (int x = 0; x &lt; depthTexture.width; x++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float depth = tex.GetPixel(x, y).r;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                depthData[x, y] = depth * maxDistance;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        RenderTexture.active = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Destroy(tex);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return depthData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="lidar-simulation">LiDAR Simulation<a href="#lidar-simulation" class="hash-link" aria-label="Direct link to LiDAR Simulation" title="Direct link to LiDAR Simulation" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using System.Collections.Generic;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class LidarSensor : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int horizontalRays = 360;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int verticalRays = 16;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float horizontalFOV = 360f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float verticalFOV = 30f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float maxRange = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private LayerMask detectionMask;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float scanRate = 10f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;Vector3&gt; pointCloud = new List&lt;Vector3&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float nextScanTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time &gt;= nextScanTime)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PerformScan();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            nextScanTime = Time.time + (1f / scanRate);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PerformScan()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pointCloud.Clear();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float horizontalStep = horizontalFOV / horizontalRays;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float verticalStep = verticalFOV / (verticalRays - 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float verticalStart = -verticalFOV / 2f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (int v = 0; v &lt; verticalRays; v++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            float verticalAngle = verticalStart + (v * verticalStep);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (int h = 0; h &lt; horizontalRays; h++)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                float horizontalAngle = h * horizontalStep;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Calculate ray direction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Vector3 direction = Quaternion.Euler(verticalAngle, horizontalAngle, 0) * transform.forward;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Cast ray</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (Physics.Raycast(transform.position, transform.TransformDirection(direction),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    out RaycastHit hit, maxRange, detectionMask))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    pointCloud.Add(hit.point);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public List&lt;Vector3&gt; GetPointCloud()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return new List&lt;Vector3&gt;(pointCloud);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void OnDrawGizmos()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (pointCloud != null &amp;&amp; pointCloud.Count &gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Gizmos.color = Color.red;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            foreach (var point in pointCloud)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Gizmos.DrawSphere(point, 0.05f);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ros-integration-with-unity">ROS Integration with Unity<a href="#ros-integration-with-unity" class="hash-link" aria-label="Direct link to ROS Integration with Unity" title="Direct link to ROS Integration with Unity" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ros-tcp-connector">ROS-TCP-Connector<a href="#ros-tcp-connector" class="hash-link" aria-label="Direct link to ROS-TCP-Connector" title="Direct link to ROS-TCP-Connector" translate="no">​</a></h3>
<p>Unity&#x27;s ROS-TCP-Connector enables communication between Unity and ROS 2.</p>
<p><strong>Installation:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># In Unity: Package Manager → Add from git URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># In ROS 2 workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws/src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ~/ros2_ws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">colcon build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source install/setup.bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Launch ROS-TCP endpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=127.0.0.1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="publishing-from-unity-to-ros-2">Publishing from Unity to ROS 2<a href="#publishing-from-unity-to-ros-2" class="hash-link" aria-label="Direct link to Publishing from Unity to ROS 2" title="Direct link to Publishing from Unity to ROS 2" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosMessageTypes.Geometry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UnityToROS : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private string topicName = &quot;/unity/robot_pose&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float publishRate = 10f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private float nextPublishTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.RegisterPublisher&lt;PoseStampedMsg&gt;(topicName);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Time.time &gt;= nextPublishTime)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            PublishPose();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            nextPublishTime = Time.time + (1f / publishRate);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void PublishPose()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var poseMsg = new PoseStampedMsg();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Header</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        poseMsg.header.stamp = new TimeStamp(Clock.time);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        poseMsg.header.frame_id = &quot;unity_world&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Position</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        poseMsg.pose.position = new PointMsg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            x = transform.position.x,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            y = transform.position.y,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            z = transform.position.z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Orientation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        poseMsg.pose.orientation = new QuaternionMsg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            x = transform.rotation.x,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            y = transform.rotation.y,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            z = transform.rotation.z,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            w = transform.rotation.w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.Publish(topicName, poseMsg);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="subscribing-to-ros-2-in-unity">Subscribing to ROS 2 in Unity<a href="#subscribing-to-ros-2-in-unity" class="hash-link" aria-label="Direct link to Subscribing to ROS 2 in Unity" title="Direct link to Subscribing to ROS 2 in Unity" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using Unity.Robotics.ROSTCPConnector;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using RosMessageTypes.Geometry;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ROSToUnity : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private string topicName = &quot;/cmd_vel&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float moveSpeed = 5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float rotationSpeed = 100f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private ROSConnection ros;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros = ROSConnection.GetOrCreateInstance();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ros.Subscribe&lt;TwistMsg&gt;(topicName, ReceiveVelocityCommand);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void ReceiveVelocityCommand(TwistMsg msg)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Apply velocity command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float linear = (float)msg.linear.x;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        float angular = (float)msg.angular.z;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 movement = transform.forward * linear * moveSpeed * Time.deltaTime;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.position += movement;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        transform.Rotate(0, angular * rotationSpeed * Time.deltaTime, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="vrar-for-robot-teleoperation">VR/AR for Robot Teleoperation<a href="#vrar-for-robot-teleoperation" class="hash-link" aria-label="Direct link to VR/AR for Robot Teleoperation" title="Direct link to VR/AR for Robot Teleoperation" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="vr-teleoperation">VR Teleoperation<a href="#vr-teleoperation" class="hash-link" aria-label="Direct link to VR Teleoperation" title="Direct link to VR Teleoperation" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine.XR;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine.XR.Interaction.Toolkit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class VRRobotController : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Transform vrLeftHand;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private Transform vrRightHand;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private RobotArmController leftArm;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private RobotArmController rightArm;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private float scaleFactor = 1f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Vector3 leftHandInitialPos;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Vector3 rightHandInitialPos;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        leftHandInitialPos = vrLeftHand.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rightHandInitialPos = vrRightHand.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Map VR hand positions to robot arms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 leftHandDelta = (vrLeftHand.position - leftHandInitialPos) * scaleFactor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 rightHandDelta = (vrRightHand.position - rightHandInitialPos) * scaleFactor;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Inverse kinematics would go here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // For simplicity, direct mapping:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (leftArm != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            MoveArmToTarget(leftArm, leftHandDelta);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (rightArm != null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            MoveArmToTarget(rightArm, rightHandDelta);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Gripper control via trigger buttons</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (GetTriggerPressed(XRNode.LeftHand))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            leftArm.GetComponent&lt;RobotGripper&gt;()?.Close();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            leftArm.GetComponent&lt;RobotGripper&gt;()?.Open();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void MoveArmToTarget(RobotArmController arm, Vector3 targetDelta)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Simple IK approximation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In production, use a proper IK solver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Vector3 targetPos = arm.GetEndEffectorPosition() + targetDelta;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Calculate joint angles (simplified)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Real implementation would use numerical IK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool GetTriggerPressed(XRNode hand)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        InputDevice device = InputDevices.GetDeviceAtXRNode(hand);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (device.TryGetFeatureValue(CommonUsages.trigger, out float value))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return value &gt; 0.5f;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ar-visualization">AR Visualization<a href="#ar-visualization" class="hash-link" aria-label="Direct link to AR Visualization" title="Direct link to AR Visualization" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine.XR.ARFoundation;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class ARRobotVisualizer : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private ARRaycastManager raycastManager;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private GameObject robotPrefab;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private GameObject spawnedRobot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;ARRaycastHit&gt; hits = new List&lt;ARRaycastHit&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Update()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Place robot on tap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (Input.touchCount &gt; 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Touch touch = Input.GetTouch(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (touch.phase == TouchPhase.Began)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (raycastManager.Raycast(touch.position, hits, TrackableType.Planes))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    Pose hitPose = hits[0].pose;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if (spawnedRobot == null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        spawnedRobot = Instantiate(robotPrefab, hitPose.position, hitPose.rotation);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        spawnedRobot.transform.position = hitPose.position;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-optimization">Performance Optimization<a href="#performance-optimization" class="hash-link" aria-label="Direct link to Performance Optimization" title="Direct link to Performance Optimization" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rendering-optimization">Rendering Optimization<a href="#rendering-optimization" class="hash-link" aria-label="Direct link to Rendering Optimization" title="Direct link to Rendering Optimization" translate="no">​</a></h3>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">using UnityEngine;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class PerformanceManager : MonoBehaviour</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool useLOD = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private bool useOcclusion Culling = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [SerializeField] private int targetFrameRate = 60;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    void Start()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Set target frame rate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Application.targetFrameRate = targetFrameRate;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Quality settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        QualitySettings.vSyncCount = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Optimize physics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverIterations = 6;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Physics.defaultSolverVelocityIterations = 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Time scale for faster simulation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Time.timeScale = 2.0f; // 2x speed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-takeaways">Key Takeaways<a href="#key-takeaways" class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways" translate="no">​</a></h2>
<ul>
<li class="">Unity excels at HRI scenarios with rich graphics, VR/AR, and human avatars</li>
<li class="">ML-Agents provides integrated reinforcement learning for robot training</li>
<li class="">Articulation Bodies offer stable, high-fidelity robot joint simulation</li>
<li class="">ROS-TCP-Connector enables bidirectional communication with ROS 2</li>
<li class="">VR/AR capabilities allow immersive teleoperation and visualization</li>
<li class="">Sensor simulation (cameras, depth, LiDAR) provides realistic perception data</li>
<li class="">Unity&#x27;s asset ecosystem accelerates development of interactive scenarios</li>
<li class="">Performance optimization is crucial for real-time simulation and training</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="further-reading">Further Reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further Reading" title="Direct link to Further Reading" translate="no">​</a></h2>
<ul>
<li class=""><strong>Unity ML-Agents</strong>: <a href="https://github.com/Unity-Technologies/ml-agents" target="_blank" rel="noopener noreferrer" class="">ML-Agents Documentation</a></li>
<li class=""><strong>Unity Robotics Hub</strong>: <a href="https://github.com/Unity-Technologies/Unity-Robotics-Hub" target="_blank" rel="noopener noreferrer" class="">Unity Robotics</a></li>
<li class=""><strong>ROS Integration</strong>: <a href="https://github.com/Unity-Technologies/ROS-TCP-Connector" target="_blank" rel="noopener noreferrer" class="">ROS-TCP-Connector</a></li>
<li class=""><strong>Articulation Bodies</strong>: <a href="https://docs.unity3d.com/Manual/physics-articulations.html" target="_blank" rel="noopener noreferrer" class="">Unity Physics Documentation</a></li>
<li class=""><strong>Books</strong>:<!-- -->
<ul>
<li class="">&quot;Unity Artificial Intelligence Programming&quot; by Dr. Davide Aversa</li>
<li class="">&quot;Hands-On Unity 2021 Game Development&quot; by Nicolas Alejandro Borromeo</li>
</ul>
</li>
<li class=""><strong>Research Papers</strong>:<!-- -->
<ul>
<li class="">Juliani, A., et al. (2018). &quot;Unity: A General Platform for Intelligent Agents&quot;</li>
<li class="">Todorov, E., et al. (2012). &quot;MuJoCo: A physics engine for model-based control&quot; (comparison context)</li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/AnasMehmood0/physical-ai-book/tree/main/web/docs/simulation/unity-hri.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/physical-ai-book/docs/simulation/gazebo-physics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">01. Gazebo Physics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/physical-ai-book/docs/isaac/isaac-sdk"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">01. Isaac SDK</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#designing-human-robot-interaction-in-simulation" class="table-of-contents__link toc-highlight">Designing Human-Robot Interaction in Simulation</a></li><li><a href="#why-unity-for-robotics-simulation" class="table-of-contents__link toc-highlight">Why Unity for Robotics Simulation?</a><ul><li><a href="#advantages-of-unity" class="table-of-contents__link toc-highlight">Advantages of Unity</a></li><li><a href="#unity-vs-traditional-robotics-simulators" class="table-of-contents__link toc-highlight">Unity vs. Traditional Robotics Simulators</a></li></ul></li><li><a href="#unity-ml-agents-toolkit" class="table-of-contents__link toc-highlight">Unity ML-Agents Toolkit</a><ul><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#installing-ml-agents" class="table-of-contents__link toc-highlight">Installing ML-Agents</a></li><li><a href="#creating-a-simple-agent" class="table-of-contents__link toc-highlight">Creating a Simple Agent</a></li><li><a href="#training-configuration" class="table-of-contents__link toc-highlight">Training Configuration</a></li><li><a href="#training-the-agent" class="table-of-contents__link toc-highlight">Training the Agent</a></li></ul></li><li><a href="#creating-realistic-hri-scenarios" class="table-of-contents__link toc-highlight">Creating Realistic HRI Scenarios</a><ul><li><a href="#virtual-human-avatars" class="table-of-contents__link toc-highlight">Virtual Human Avatars</a></li><li><a href="#gaze-and-attention-tracking" class="table-of-contents__link toc-highlight">Gaze and Attention Tracking</a></li><li><a href="#social-interaction-behaviors" class="table-of-contents__link toc-highlight">Social Interaction Behaviors</a></li></ul></li><li><a href="#articulation-bodies-for-robot-simulation" class="table-of-contents__link toc-highlight">Articulation Bodies for Robot Simulation</a><ul><li><a href="#why-articulation-bodies" class="table-of-contents__link toc-highlight">Why Articulation Bodies?</a></li><li><a href="#creating-a-robot-arm" class="table-of-contents__link toc-highlight">Creating a Robot Arm</a></li><li><a href="#gripper-control" class="table-of-contents__link toc-highlight">Gripper Control</a></li></ul></li><li><a href="#sensor-simulation-in-unity" class="table-of-contents__link toc-highlight">Sensor Simulation in Unity</a><ul><li><a href="#camera-sensors" class="table-of-contents__link toc-highlight">Camera Sensors</a></li><li><a href="#depth-camera" class="table-of-contents__link toc-highlight">Depth Camera</a></li><li><a href="#lidar-simulation" class="table-of-contents__link toc-highlight">LiDAR Simulation</a></li></ul></li><li><a href="#ros-integration-with-unity" class="table-of-contents__link toc-highlight">ROS Integration with Unity</a><ul><li><a href="#ros-tcp-connector" class="table-of-contents__link toc-highlight">ROS-TCP-Connector</a></li><li><a href="#publishing-from-unity-to-ros-2" class="table-of-contents__link toc-highlight">Publishing from Unity to ROS 2</a></li><li><a href="#subscribing-to-ros-2-in-unity" class="table-of-contents__link toc-highlight">Subscribing to ROS 2 in Unity</a></li></ul></li><li><a href="#vrar-for-robot-teleoperation" class="table-of-contents__link toc-highlight">VR/AR for Robot Teleoperation</a><ul><li><a href="#vr-teleoperation" class="table-of-contents__link toc-highlight">VR Teleoperation</a></li><li><a href="#ar-visualization" class="table-of-contents__link toc-highlight">AR Visualization</a></li></ul></li><li><a href="#performance-optimization" class="table-of-contents__link toc-highlight">Performance Optimization</a><ul><li><a href="#rendering-optimization" class="table-of-contents__link toc-highlight">Rendering Optimization</a></li></ul></li><li><a href="#key-takeaways" class="table-of-contents__link toc-highlight">Key Takeaways</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/physical-ai-book/docs/intro">Read Book</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/AnasMehmood0/physical-ai-book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI Book. Built with Docusaurus.</div></div></div></footer><div class="globalChatWidget_VdqR"><button class="chatToggleButton_owIk" aria-label="Open chat">💬</button></div></div>
</body>
</html>